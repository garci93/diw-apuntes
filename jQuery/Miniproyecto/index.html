<!DOCTYPE html>
<html lang="es" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
        <style media="screen">
            html,body {
                margin: auto;
                max-width: 100%;
                overflow-x: hidden;
            }
            div#inicial {
                height: 100vh;
            }
            div#banner {
                z-index: 20;
                height: 5%;
            }
            div#menu {
                z-index: 30;
                /* -moz-transition: -moz-transform 1s ease-in-out 0.2s; */
                /* -webkit-transition: -webkit-transform 1s ease-in-out 0.2s; */
                width: 25%;
                height: 95%;
                position: relative;
                left: 100%;
            }
            .barra {
                background-color: #a9dbf2;
                color: #113163;
                font-family: helvetica;
                filter: drop-shadow(0px 3px 3px #000020);
            }
            .boton {
                margin-left: 2%;
                margin-bottom: 2%;
                height: 10%;
                width: 96%;
                background-color: #ddffff;
                color: #0c4399;
                font-family: helvetica;
                font-size: 24px;
                -moz-border-radius: 5px;
                -webkit-border-radius: 5px;
                filter: drop-shadow(0px 1px 1px #000020);
                text-align: center;
                padding-top: 5%;
            }
            .elemento {
                color: #0c4399;
                //estilo por defecto de los elementos, meter fondo forma etc
            }
            .boton:hover {
                background-color: #c0e3ee;
            }
            .boton:active {
                background-color: #aaccdd;
            }
            .opciones {
                margin: 10%;
                height: 30%;
            }
            #banner span {
                padding-left: 5px;
                margin-top: 5px;
                display: inline-block;
                font-size: 24px;
            }
            #boton_menu {
                height: 100%;
                float: right;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
        <script>
        $(document).ready(function() {
            $(document).one("click",function(){
                $("body").append(`<div id="inicial"></div>`);
                $("#inicial").append(`<div id="banner" class="barra"></div>`);
                $("#inicial").append(`<div id="menu" class="barra"></div>`);
                $("#banner").append(`<span>Proyecto final de diseño</span>`);
                $("#banner").append(`<img id="boton_menu" src="img/boton_menu.png">`);
                $("#menu").append(`<br>`);
                $("#menu").append(`<div class="boton" id="boton1"></div>`);
                $("#boton1").append(`<span>Insertar elemento</span>`);
                $("#menu").append(`<div class="boton" id="boton2"></div>`);
                $("#boton2").append(`<span>Editar elemento</span>`);
                $("#menu").append(`<div class="boton" id="boton3"></div>`);
                $("#boton3").append(`<span>Eliminar elemento</span>`);
                $("#menu").append(`<div class="boton" id="boton4"></div>`);
                $("#boton4").append(`<span>Cambiar diseño</span>`);
                $("#menu").append(`<hr>`);
                $("#menu").append(`<div class="opciones"></div>`);

                $(".boton").on("click",function(){
                    $(".opciones").empty();
                    if($(this).hasClass("escogido")) {
                        $(".boton").removeClass("escogido");
                    } else {
                        switch ($(this).attr("id")) {
                            case "boton1":
                                $(".opciones").append(`<span>Elige el tipo de elemento a insertar</span>`);
                                $(".opciones").append(`<select id="tipoElem">`);
                                var tiposElem = ["texto","imagen"];
                                for(var i in tiposElem){
                                    $("#tipoElem").append(`<option id=${tiposElem[i]}>${tiposElem[i]}</option>`);
                                }
                                $(".opciones").append(`<button id="insertar">Insertar</button>`);
                                $("#insertar").on("click",function (){
                                    setTimeout(100,insertar($("#tipoElem")));
                                });
                                break;
                            case "boton2":
                                $(".opciones").append(`<span>Haz click sobre el elemento a editar.</span>`);
                                break;
                            case "boton3":
                                $(".opciones").append(`<span>Haz click sobre el elemento a eliminar.</span>`);
                                break;
                            case "boton4":
                                $(".opciones").append(`<label name="color">Color de fondo:</label>`);
                                $(".opciones").append(`<input id="colorFondo" name="color" type="color" value="">`);
                                $("#colorFondo").on("change",function (){
                                    $("body").css("background",$(this).val());
                                });
                                break;
                        }
                        $(".boton").removeClass("escogido");
                        $(this).toggleClass("escogido");
                    }
                });
                $("#boton_menu").on("click",function(){
                    if($("#menu").hasClass("desplegado")) {
                        $("#boton_menu").css({'-moz-transform' : 'rotate(0deg)'});
                        $("#boton_menu").css({'-webkit-transform' : 'rotate(0deg)'});
                        $("#menu").css("-moz-transform","translate(0vw)");
                        $("#menu").css("-webkit-transform","translate(0vw)");
                    } else {
                        $("#boton_menu").css({'-moz-transform' : 'rotate(90deg)'});
                        $("#boton_menu").css({'-webkit-transform' : 'rotate(90deg)'});
                        $("#menu").css("-moz-transform","translate(-25vw)");
                        $("#menu").css("-webkit-transform","translate(-25vw)");
                    }
                    $("#menu").toggleClass("desplegado");
                });
            });

            function insertar() {
                switch ($("#tipoElem").children("option:selected").attr("id")) {
                    case "texto":
                        var contenido = prompt("Introduce el contenido del texto");
                        alert("Haz click donde quieras colocar el elemento");
                        $("#inicial").append(`<p position="fixed" class="texto" top="100px" draggable>${contenido}</p>`);
                        $("#inicial").append(`<img src="./img/boton_menu.png" class="texto" top="100px" draggable>${contenido}</p>`);
                    case "imagen":
                        break;
                    default:
                        alert("yeo");
                }

            }
        });
        </script>
    </head>
    <body>
    </body>
</html>
